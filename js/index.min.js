/* (c) IGOR KOWALCZYK. All rights reserved. */

const toggletheme=document.querySelector('.theme-switch input[type="checkbox"]'),currenttheme=localStorage.getItem("theme");function switchtheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}currenttheme&&(document.documentElement.setAttribute("data-theme",currenttheme),"dark"===currenttheme&&(toggletheme.checked=!0)),toggletheme.addEventListener("change",switchtheme,!1);var scrollposition=window.scrollY,logocontainer=document.getElementsByClassName("nav")[0];window.addEventListener("scroll",function(){(scrollposition=window.scrollY)>=40?logocontainer.classList.add("nav-scrolled"):logocontainer.classList.remove("nav-scrolled")}),window.onload=function(){document.querySelectorAll(".post-content h1").forEach(e=>{var t=e.getAttribute("id")||e.innerText.toLowerCase().replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").replace(/ +/g,"-");e.setAttribute("id",t),e.classList.add("anchor-heading"),$anchor=document.createElement("a"),$anchor.className="anchor-link",$anchor.href="#"+t,$anchor.innerText="#",e.appendChild($anchor)}),window.location.hash.length>0&&setTimeout(function(){document.querySelector('a[href="'+window.location.hash+'"]');},150)},document.addEventListener("click",function(e){if("A"===e.target.tagName&&e.target.href&&"_blank"!=e.target.target&&"anchor-link"!=e.target.classList){e.preventDefault();var t=e.target;document.body.style.opacity=0,document.body.addEventListener("transitionend",function(){location.href=t.href})}});var date=document.querySelector(".date");date.innerHTML=(new Date).getFullYear();