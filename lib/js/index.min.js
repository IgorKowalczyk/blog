/* (c) IGOR KOWALCZYK. All rights reserved. */

const toggletheme=document.querySelector('.theme-switch input[type="checkbox"]'),currenttheme=localStorage.getItem("theme");function switchtheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"))}currenttheme&&(document.documentElement.setAttribute("data-theme",currenttheme),"dark"===currenttheme&&(toggletheme.checked=!0)),toggletheme.addEventListener("change",switchtheme,!1);var scrollposition=window.scrollY,logocontainer=document.getElementsByClassName("nav")[0];window.addEventListener("scroll",function(){(scrollposition=window.scrollY)>=40?logocontainer.classList.add("nav-scrolled"):logocontainer.classList.remove("nav-scrolled")}),window.onload=function(){document.querySelectorAll(".post-content h1").forEach(e=>{var t=e.getAttribute("id")||e.innerText.toLowerCase().replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").replace(/ +/g,"-");e.setAttribute("id",t),e.classList.add("anchor-heading"),$anchor=document.createElement("a"),$anchor.className="anchor-link",$anchor.href="#"+t,$anchor.innerText="#",e.appendChild($anchor)}),window.location.hash.length>0&&setTimeout(function(){document.querySelector('a[href="'+window.location.hash+'"]')},150)},document.addEventListener("click",function(e){if("A"===e.target.tagName&&e.target.href&&"_blank"!=e.target.target&&"anchor-link"!=e.target.classList){e.preventDefault();var t=e.target;document.body.style.opacity=0,document.body.addEventListener("transitionend",function(){location.href=t.href})}});var date=document.querySelector(".date");date.innerHTML=(new Date).getFullYear(),function(e){e(".js-comments");function t(t,n){e(".js-modal-title").text(t),e(".js-modal-text").html(n),e("body").addClass("show-modal")}e(".js-form").submit(function(){var n=this;return e(n).addClass("form--loading"),e.ajax({type:e(this).attr("method"),url:e(this).attr("action"),data:e(this).serialize(),contentType:"application/x-www-form-urlencoded",success:function(o){t("Comment submitted","Thanks! Your comment is pending. It will appear when approved."),e(n).removeClass("form--loading")},error:function(o){console.log(o),t("Error","Sorry, there was an error when your comment was submitted!"),e(n).removeClass("form--loading")}}),!1}),e(".js-close-modal").click(function(){e("body").removeClass("show-modal")})}(jQuery);var addComment={moveForm:function(e,t,n,o){var r,a,i,l,c=this,d=c.I(e),s=c.I(n),m=c.I("cancel-comment-reply-link"),u=c.I("comment-replying-to"),h=c.I("comment-post-slug"),g=s.getElementsByTagName("form")[0];if(d&&s&&m&&u&&g){c.respondId=n,o=o||!1,c.I("sm-temp-form-div")||((r=document.createElement("div")).id="sm-temp-form-div",r.style.display="none",s.parentNode.insertBefore(r,s)),d.parentNode.insertBefore(s,d.nextSibling),h&&o&&(h.value=o),u.value=t,m.style.display="",m.onclick=function(){var e=addComment,t=e.I("sm-temp-form-div"),n=e.I(e.respondId);if(t&&n)return e.I("comment-replying-to").value=null,t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),this.style.display="none",this.onclick=null,!1};try{for(var f=0;f<g.elements.length;f++)if(a=g.elements[f],l=!1,"getComputedStyle"in window?i=window.getComputedStyle(a):document.documentElement.currentStyle&&(i=a.currentStyle),(a.offsetWidth<=0&&a.offsetHeight<=0||"hidden"===i.visibility)&&(l=!0),"hidden"!==a.type&&!a.disabled&&!l){a.focus();break}}catch(e){}return!1}},I:function(e){return document.getElementById(e)}};